## 反应时间

一起来做一个反应时间的实验，根据人体的导电性能做出反应吧！

[https://youtu.be/doHwknM7HbQ](https://youtu.be/doHwknM7HbQ)

### 时长

一共有2个活动。根据编程概念的熟悉程度，每个活动大约30-45分钟。

### 材料

- 硬纸板
- 铝箔
- 永久记号笔
- 1块micro:bit、电池盒和2节7号电池
- 4个鳄鱼夹

### 活动

#### 设置

[https://youtu.be/DgJ-S0q0EMs](https://youtu.be/DgJ-S0q0EMs)

#### 制作反应面板

- 将铝箔折成方块放在硬纸板四周。
- 将每片铝箔连接到micro:bit上对应的引脚。

**注意：** 虽然视频中显示了连接到**P2**引脚，但是在这个实验中不需要这样做。

这就是我们的反应面板了!

#### 代码

这节课程使用了micro:bit，通过让学生完成硬纸板上的电路来检测学生的反应时间。检测学生在专注和分心这两种状态下的反应时间。

将每片铝箔连接到micro:bit上对应的引脚。

**注意：** 这次实验，我们没有用到视频中显示的P2引脚。 

将一只手放在接地引脚（GND)，另一只手放在P0引脚，测试反应面板。这将会完成电路，并在3秒的初始倒计时后，启动micro:bit上的计时器。

一旦计时器启动，等待LED 屏幕点亮，然后用一只手按下GND铝箔，用另一只手按下P1铝箔。这将会完成电路并关闭计时器。 

然后，micro:bit读取从计时器开启到电路关闭之间的时间，以毫秒为单位。

#### 步骤 1：变量

为了使**反应时间**这个实验追踪到玩家的反应速度，我们需要添加一些变量来记录数据。初始化（赋值或设置）这些变量为一些起始值。这些所需的变量使：`start`、`end`、`false_start`以及`running`。将变量`start`和`end`的值设置为`0`，这意味着没有时间流逝。然后，设置变量`false_start`和`running`的值为`false` 来表示我们还没开始实验。

接下来，我们的追踪变量需要做这些：
- 反应时间的实验在指定时间的开始和结束都是基于玩家的反应。
- 当实验正在进行以及当玩家有一个错误的开始的时候，代码就会追踪玩家的反应速度。

将这些变量添加到你的代码中：

![](https://i.imgur.com/OOhFz28.png)

#### 步骤 2：当引脚被按下

我们需要设置事件处理器，执行玩家在任意时间用一只手按下**GND**引脚，另一只手按下**P0**或**P1**引脚使电路完成的代码。我们的事件处理器是两个`当引脚被按下`积木块，其中一个积木块用于**P0**引脚，另一个积木块用于**P1**引脚。

将`当引脚被按下`积木块添加到你的代码中：

![](https://i.imgur.com/3AOVyA2.png)

#### 步骤 3：倒计时器 

我们需要一个倒计时器，当**P0**引脚被按下时，显示秒数倒计。插入3个`显示数字`积木块来直观地显示倒计顺序：3…2…1。接下来，添加一个 `清空屏幕`积木块来清理屏幕上的数字。修改你的代码使它看起来像这样：

![](https://i.imgur.com/hVM9Vu6.png)

#### 步骤 4：布尔逻辑

现在，我们将**P0**事件中的变量`running`和`false_start`设置为`false`。
给`running`和`false_start`添加`将 设为`积木块，就像这样：

![](https://i.imgur.com/HKpHPke.png)

#### 步骤 5：随机开始反应时间

在引脚**P0**被按下之后添加一个随机起始时间。在事件积木块底部的`暂停`积木块中放入一个`随机`积木块，就像这样：

![](https://i.imgur.com/a3oRNWF.png)

#### 步骤 6：随机绘制X轴、Y轴的LED

如果没有检测到错误的开始（引脚**P0**在错误的时间被按下），反应时间的实验将会开始。当反应时间开始，屏幕就会随机地在的X轴和Y轴的某个地方绘制一颗LED灯。在`如果 则`积木块中添加上述相关积木块来显示反应时间：

![](https://i.imgur.com/JKwOM3d.png)

#### 步骤 7: 显示反应的反馈

添加一些代码来检测玩家用一只手按下**GND**铝箔，另一只手按下**P1**引脚的时间。这个代码将会检测电路的连接，并关闭计时器。此外，添加一些代码使micro:bit以毫秒为单位，读取当计时器开始到电路完成之间所花费的时间。这个代码也会检测，当引脚P1被按下的时候，是否做出了一个正确的反应或者一个错误的开始。

当引脚**P1**被按下，则显示两个图像中的其中一个。当玩家正确地完成了**GND**和**P1**之间的电路，则显示第一个图像。这意味着在随机点亮的LED灯出现后，做出了一个正确的反应，按下**P1**引脚，完成了电路。

当玩家完成了**GND**和**P1**之间的电路，但是却发生在一个错误的开始，则显示第二个图像。如果玩家在X轴和Y轴上随机点亮的LED出现之前，按下了引脚**P1**，完成了电路，那么一个错误的开始就会被检测到。修改代码使引脚**P1**的事件包括上述动作：

![](https://i.imgur.com/R1a78dW.png)

#### 扩展

在学生们完成了他们的实验后，让他们各自和一个朋友（用2个引脚）玩这个游戏，比赛看看谁最先完成电路。

你可以在下方查看这个项目的代码：

![](https://i.imgur.com/ezikZCE.png)

<div style="position:relative;height:0;padding-bottom:70%;overflow:hidden;"><iframe style="position:absolute;top:0;left:0;width:100%;height:100%;" src="https://makecode.microbit.org/#pub:_9oa4c4XTDK1V" frameborder="0" sandbox="allow-popups allow-forms allow-scripts allow-same-origin"></iframe></div>


