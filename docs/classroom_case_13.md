## 倒计时器

让我们来制作一个倒计时器，并看看你的micro:bit手表上倒数计时。

时长：~10分钟

### 设置时间变量

我们需要一个变量来追踪手表上剩余的秒数。

- 去到代码抽屉中的**基本**选项，找到`开机时执行`积木块，并将其拖拽到代码编辑区域。
- 好了，在**变量**选项，点击`设置变量`。将这个变量命名为`seconds`。拖拽出一个`将设置为`积木块，并通过下拉箭头选择变量名`seconds`。将这个变量放在`开机时执行`积木块的下方。

![](https://i.imgur.com/obImP2q.png)

### 用按钮来设置时间

我们需要用一种方式来设置手表上的时间。我们将使用按钮来设置时间量，通过加10秒和1秒的方式来设置时间。我们将用一个按钮来加10秒，另一个按钮则只加1秒。

#### 设置增加10秒

我们将用按钮`A`来给我们的计时增加`10`秒。每次按下按钮A, `seconds`的计时将会增加10.

- 在代码抽屉中的**基本**选项，找到`当按钮被按下`积木块，并将其拖拽到代码编辑区域。
- 在**逻辑**选项中，找到一个`如果 则`积木块，并把它放在`当按钮被按下`的下方。
- 在同一个**逻辑**选项中，找到一个**0 < 0**，用它来替换里面的`false`条件。
- 将条件语句左侧的`0`改为变量`seconds`，右侧的`0`改为`50`。时间限制成了只有1分钟。 
- 在`则`的区域，放入一个`以 为幅度更改`的积木块。在下拉菜单中，选择变量名`seconds`，并将右侧的`0`改为`10`。
- 在`以 为幅度更改`的积木块下方添加一个`显示数字`积木块。将它的数值改为变量`seconds`。然后，在它的下方放一个`清空屏幕`积木块。

![](https://i.imgur.com/3G5XdUZ.png)

#### 设置增加1秒

现在，我们将用按钮`B`在计时中只增加`1`秒。当按钮B被按下，`seconds`中的计时将只会增加 `1`。

- 在代码抽屉中的**基本**选项，找到`当按钮被按下`积木块，并将其拖拽到代码编辑区域。
- 在**逻辑**选项中，找到一个`如果 则`积木块，并把它放在`当按钮被按下`的下方。
- 在同一个**逻辑**选项中，找到一个**0 < 0**，用它来替换里面的`false`条件。
- 将条件语句左侧的`0`改为变量`seconds`，右侧的`0`改为`60`。时间再次被限制成了1分钟。 
- 在`则`的区域，放入一个`以 为幅度更改`的积木块。在下拉菜单中，选择变量名`seconds`。
- 在`以 为幅度更改`的积木块下方添加一个`显示数字`积木块。将它的数值改为变量`seconds`。然后，在它的下方放一个`清空屏幕`积木块。

![](https://i.imgur.com/GgoQqEP.png)

#### 摇晃倒计时

好了，现在我们将试试计时器，看看还剩下多少秒。这只有在摇晃手表的时候才会发生哦！

- 拖拽一个`当震动`积木块，并将它放在代码编辑区域中。
- 从**循环**中拖拽出一个`如果为`积木块，并将它放在`当震动`的下方。将`true`条件替换成**逻辑**选项中的条件`0 < 0 `。将`<`改为`>`。将左侧的`0`改为变量`seconds`。
- 拖拽出另一个`显示数字`，并将它放在`如果为`积木块下方。将`0`改为变量`seconds`。在它的下方放置一个`暂停`积木块，并把时间设置成 `1000`毫秒。这意味着每次经过循环，我们的计时器将会减少**1000**毫秒（也就是1秒）。
- 为了改变剩余的秒数，选择一个`以 为幅度更改`的积木块，将它放在`暂停`的下方。在**数学**中，找到`0 - 0`积木块，并将它放在`以 为幅度更改`积木块的内部。将减号右侧的 `0` 改为 `1`。

![](https://i.imgur.com/mD3OeQL.png)

#### 注意

在`如果为`积木块的底部，添加一些`显示图标`积木块来发出警报，说明倒计时结束。我们现在在底部放置了一些方块和‘X’的图标。

![](https://i.imgur.com/AdSP0dW.png)

#### 完成

干得漂亮!现在你已经给你的倒计时器编好了程序。点击`下载`按钮，将你的代码下载到micro:bit中。当你摇晃它，它就会根据你设置好的时间开始倒计时。 

在开始的时候，只设置了0秒。如果想增加10秒的倒计时，按下按钮**A**。如果想增加1秒的倒计时，则按下按钮**B**。

<div style="position:relative;height:0;padding-bottom:70%;overflow:hidden;"><iframe style="position:absolute;top:0;left:0;width:100%;height:100%;" src="https://makecode.microbit.org/#pub:_Too2sudvd7bo" frameborder="0" sandbox="allow-popups allow-forms allow-scripts allow-same-origin"></iframe></div>

